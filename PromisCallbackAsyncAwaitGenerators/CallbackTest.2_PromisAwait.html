<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="utf-8">

    <script>

        window.onload = function () {

            function asynFunktion1() {
                return new Promise((resolved) => {
                    setTimeout(() => resolved('fertig1'), Math.random() * 3000);
                })
            }
            function asynFunktion2() {
                return new Promise((resolved) => {
                    setTimeout(() => resolved('fertig2'), Math.random() * 2000);
                })
                //return Promise.reject(new Error('Fehler: Funktion2 geht nicht :('));
                //return Promise.resolve('Promis.resolved: Kukuk! :)');
            }
            function asynFunktion3() {
                return new Promise((resolved) => {
                    setTimeout(() => resolved('fertig3'), Math.random() * 1000);
                })

            }

            (async () => {
                try {
                    var erg1 =  asynFunktion1();
                    var erg2 =  asynFunktion2();
                    var erg3 =  asynFunktion3();
                    
                    //Promise.all([erg1, erg2, erg3]);
                    //.all() nicht mehr n√∂tig!

                    //Geht nur 3000ms bis alle Ergebnisse da in richtiger Reihenfolge!!! :)))
                    console.log(await erg1 + '\n' +await erg2 + '\n' + await erg3);
                
                } catch (e) { console.log(e.message) }
            })()

            console.log('Wenn diese Meldung zuerst kommt wird nicht blockiert! :)');

        }


    </script>
</head>

<body>

    <noscript>
        <h1>JavaScript muss aktiviert Sein! :(</h1>
    </noscript>
</body>

</html>